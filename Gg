/// Dynamic 3D Solar System Simulation Using OpenGL/GLUT

#include <GL/glut.h>

#include <math.h>

#include <stdbool.h>

// Angles for revolution

float angleMercury = 0, angleVenus = 0, angleEarthRev = 0, angleEarthRot = 0, angleMars = 0, angleMoon= 0;

// Camera & Zoom

float camAngle = 20.0f;

float zoom = -12.0f;

// Animation flag

bool animate = true;

// Draw sphere helper

void drawSphere(float r)

{

glutSolidSphere(r, 30, 30);

}

void display()

{

glClear(GL_COLOR_BUFFER_BIT | GL_DEPTH_BUFFER_BIT);

glLoadIdentity();



// Camera Position

gluLookAt(0, 4, 14 + zoom, 0, 0, 0, 0, 1, 0);

glRotatef(camAngle, 0, 1, 0);



// ---- SUN ----

glColor3f(1, 1, 0);

drawSphere(1.2);



// ---- MERCURY ----

glPushMatrix();

glRotatef(angleMercury, 0, 1, 0);

glTranslatef(2.0, 0, 0);

glColor3f(0.6, 0.6, 0.6);

drawSphere(0.2);

glPopMatrix();



// ---- VENUS ----

glPushMatrix();

glRotatef(angleVenus, 0, 1, 0);

glTranslatef(3.0, 0, 0);

glColor3f(1.0, 0.5, 0.0);

drawSphere(0.35);

glPopMatrix();



// ---- EARTH + MOON ----

glPushMatrix();

glRotatef(angleEarthRev, 0, 1, 0);

glTranslatef(4.5, 0, 0);



// Earth self self-rotation

glPushMatrix();

glRotatef(angleEarthRot, 0, 1, 0);

glColor3f(0, 0, 1);

drawSphere(0.5);

glPopMatrix();



// Moon

glRotatef(angleMoon, 0, 1, 0);

glTranslatef(0.9, 0, 0);

glColor3f(0.8, 0.8, 0.8);

drawSphere(0.15);

glPopMatrix();





// ---- MARS ----

glPushMatrix();

glRotatef(angleMars, 0, 1, 0);

glTranslatef(6.0, 0, 0);

glColor3f(1, 0, 0);

drawSphere(0.45);

glPopMatrix();



glutSwapBuffers();

}

void update(int value)

{

if(animate)

{

    angleMercury += 1.5;

    angleVenus   += 1.0;

    angleEarthRev+= 0.6;

    angleEarthRot+= 4.0;

    angleMoon    += 3.0;

    angleMars    += 0.4;

}

glutPostRedisplay();

glutTimerFunc(20, update, 0);

}

void keyboard(unsigned char key, int x, int y)

{

switch(key)

{

case 27:

    exit(0); // ESC

case 'p':

case 'P':

    animate = false;

    break;

case 's':

case 'S':

    animate = true;

    break;

case 'w':

    zoom += 0.5;

    break;

case 'x':

    zoom -= 0.5;

    break;

}

}

void special(int key, int x, int y)

{

if(key == GLUT_KEY_LEFT)  camAngle -= 5;

if(key == GLUT_KEY_RIGHT) camAngle += 5;

}

void reshape(int w, int h)

{

if(h == 0) h = 1;

glViewport(0, 0, w, h);

glMatrixMode(GL_PROJECTION);

glLoadIdentity();

gluPerspective(45, (float)w/h, 1, 100);

glMatrixMode(GL_MODELVIEW);

}

void init()

{

glEnable(GL_DEPTH_TEST);

glClearColor(0, 0, 0, 1);

}

int main(int argc, char **argv)

{

glutInit(&argc, argv);

glutInitDisplayMode(GLUT_DOUBLE | GLUT_RGB | GLUT_DEPTH);

glutInitWindowSize(900, 700);

glutCreateWindow("Dynamic 3D Solar System Simulation");

init();

glutDisplayFunc(display);

glutTimerFunc(20, update, 0);

glutKeyboardFunc(keyboard);

glutSpecialFunc(special);

glutReshapeFunc(reshape);

glutMainLoop();

return 0;

}

explain line by line
